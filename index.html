<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>testing</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <p id="status">this will change!</p>
  <form>
        <!-- Form fields go here -->
        <label for="message">Message:</label>
        <input type="text" id="message" name="message" required>
        <button type="button" onclick="testfunction()">Submit</button>
    </form>
  <script>

async function testfunction() {   
const postData = {
  message: document.getElementById("message").value,
};

fetch('https://beta-3ndi0q2whds-981qnd-qw-edmqo-odqa-1.2js93ms943cnr9xnw9dh8q9.repl.co/api/sendmessage', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify(postData),
})
  .then((response) => response.json())
  .then((data) => {
    console.log('Response:', data);
    document.getElementById("status").success.innerText = JSON.stringify(data)
  })
  .catch((error) => {
    console.error('Error:', error);
  });
 }
</script>
</body>

</html>
